import{c as j,r as o,j as e,B as f,i as z,C as R,I as T,D as $,S as W,Z as A,F as B,t as P,J as I,U as O}from"./index-nioxCw3b.js";import{b as Q,k as N,t as k}from"./ArtifactPanel-FFcv7Mbj.js";import{f as S,M as K,r as V,S as Z}from"./index-B1pO6E6u.js";import{L}from"./layers-BpYWplLs.js";import{B as q,C as G}from"./clock-CqiGUugS.js";import{A as E}from"./activity-GXyd6ffo.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=j("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=j("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=j("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=j("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=j("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),J=()=>{const[i,b]=o.useState([]),[x,c]=o.useState(null),[n,g]=o.useState(""),[t,d]=o.useState(""),[l,s]=o.useState(!1),[p,u]=o.useState("idle"),[r,m]=o.useState(null);o.useEffect(()=>S.subscribeToKnowledge(h=>b(h)),[]);const y=async a=>{if(a==null||a.preventDefault(),!n.trim()){m(null);return}s(!0),m(null);const h=await N.neuralSearch(n,i);m(h),s(!1)},v=async()=>{if(t.trim()){u("reading"),setTimeout(()=>u("classifying"),600);try{const a=await N.processRawInput(t);u("indexing"),await S.addKnowledge(a),u("complete"),setTimeout(()=>{d(""),u("idle")},1500)}catch(a){console.error(a),u("idle")}}},w=r?r.documents:i,F=()=>{switch(p){case"reading":return"Reading...";case"classifying":return"Extracting Tags...";case"indexing":return"Indexing Vector...";case"complete":return"Stored";default:return"Add Smart Note"}};return e.jsxs("div",{className:"w-full h-full bg-background flex flex-col overflow-hidden relative",children:[e.jsx("div",{className:"min-h-16 border-b border-border/50 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-4 sm:px-8 py-3 bg-surface/30 backdrop-blur-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsxs("h1",{className:"text-xl font-semibold text-primary tracking-tight flex items-center gap-2",children:[e.jsx(f,{className:"text-indigo-500"})," Neural Knowledge Base"]}),e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-accent/10 text-accent text-[10px] font-medium uppercase tracking-wide",children:[i.length," Vectors"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-8 scrollbar-thin",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-20",children:[e.jsx("div",{className:`
                bg-white dark:bg-[#1C1C1E] border rounded-xl p-3 shadow-sm transition-all duration-300
                ${p!=="idle"?"border-indigo-500 shadow-md ring-1 ring-indigo-500/20":"border-border focus-within:shadow-md"}
            `,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("textarea",{value:t,onChange:a=>d(a.target.value),placeholder:"Type a raw note... AI will auto-tag and categorize it.",className:"w-full bg-transparent text-[16px] sm:text-sm resize-none focus:outline-none min-h-[40px] text-primary placeholder:text-secondary/50 font-sans",rows:t?3:1,disabled:p!=="idle"}),p!=="idle"&&e.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-black/50 backdrop-blur-[1px] flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 font-mono text-xs animate-pulse",children:[e.jsx(z,{size:14}),e.jsx("span",{children:"Neural Processing Active..."})]})})]}),e.jsxs("button",{onClick:v,disabled:!t.trim()||p!=="idle",className:`self-end px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${p==="complete"?"bg-green-500 text-white":p!=="idle"?"bg-indigo-500 text-white":t.trim()?"bg-primary text-white hover:bg-primary/90":"bg-surface text-secondary cursor-not-allowed"}`,children:[p==="complete"&&e.jsx(R,{size:14}),p==="reading"&&e.jsx(T,{size:14,className:"animate-pulse"}),p==="classifying"&&e.jsx(f,{size:14,className:"animate-pulse"}),p==="indexing"&&e.jsx($,{size:14,className:"animate-pulse"}),F()]})]})}),(r||l)&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[(r==null?void 0:r.synthesis)&&e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-950/30 dark:to-blue-900/20 border border-indigo-100 dark:border-indigo-500/20 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 text-indigo-500",children:e.jsx(W,{size:64})}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-indigo-500 rounded-lg text-white",children:e.jsx(f,{size:16})}),e.jsx("span",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-200 uppercase tracking-wide",children:"AI Synthesis"})]}),e.jsx("div",{className:"prose prose-sm max-w-none prose-p:text-primary prose-headings:text-primary prose-strong:text-accent prose-code:text-pink-500 dark:prose-invert",children:e.jsx(K,{remarkPlugins:[V],children:r.synthesis})})]}),(r==null?void 0:r.optimizationLog)&&r.optimizationLog.length>0&&e.jsxs("div",{className:"bg-black/5 dark:bg-white/5 border border-border/50 rounded-lg p-3 font-mono text-[10px] text-secondary",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-primary font-bold uppercase tracking-wider",children:[e.jsx(A,{size:10,className:"text-yellow-500"}),"Adaptive Indexing Log"]}),e.jsx("div",{className:"space-y-1 pl-1 border-l border-border/50",children:r.optimizationLog.map((a,h)=>e.jsx("div",{children:`> ${a}`},h))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-secondary uppercase tracking-wider mb-4 px-2",children:l?"Neural Retrieval in progress...":`Ranked Results (${w.length})`}),e.jsx("div",{className:"space-y-3",children:w.map(a=>e.jsxs("div",{onClick:()=>c(a),className:"bg-surface/50 border border-border rounded-xl p-4 hover:bg-white dark:hover:bg-white/5 transition-colors cursor-pointer group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h4",{className:"text-sm font-medium text-primary group-hover:text-accent transition-colors",children:a.title}),a.relevanceScore&&e.jsxs("span",{className:`text-[10px] font-mono px-1.5 py-0.5 rounded ${a.relevanceScore>.8?"bg-green-500/10 text-green-600":"bg-surface text-secondary"}`,children:[Math.round(a.relevanceScore*100),"% Match"]})]}),e.jsx("p",{className:"text-xs text-secondary mt-1 line-clamp-2",children:a.content}),e.jsx("div",{className:"flex gap-2 mt-2",children:a.tags.slice(0,3).map(h=>e.jsxs("span",{className:"text-[9px] text-secondary bg-surface px-1.5 rounded border border-border/50",children:["#",h]},h))})]},a.id))})]})]}),!r&&!l&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsx("span",{className:"text-xs font-bold text-secondary uppercase tracking-wider",children:"All Documents"}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:"text-[10px] text-secondary bg-surface px-2 py-1 rounded-md",children:[i.length," items"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.map(a=>e.jsxs("div",{onClick:()=>c(a),className:"group flex items-center justify-between p-4 bg-white dark:bg-[#1C1C1E] border border-border rounded-xl hover:border-accent/50 hover:shadow-soft transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center border border-border/50 shrink-0 ${a.type==="pdf"?"bg-red-500/5 text-red-600":"bg-blue-500/5 text-blue-600"}`,children:e.jsx(B,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-primary group-hover:text-accent transition-colors",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-secondary mt-1",children:[e.jsx("span",{className:"uppercase font-semibold opacity-70",children:a.category}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(a.updated).toLocaleDateString()}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"font-mono",children:a.size})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.tags.map(h=>e.jsxs("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-surface rounded text-[10px] text-secondary border border-border/50",children:["#",h]},h)),e.jsx("div",{className:"w-px h-4 bg-border mx-1"}),e.jsx("button",{className:"p-2 text-secondary hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(P,{size:14})})]})]},a.id)),i.length===0&&e.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-border rounded-xl",children:[e.jsx(M,{size:32,className:"mx-auto text-secondary/30 mb-4"}),e.jsx("p",{className:"text-sm text-secondary",children:"Your knowledge base is empty."}),e.jsx("p",{className:"text-xs text-secondary/60",children:'Add a note above or use the "Save Knowledge" button in a chat.'})]})]})]})]})}),e.jsx("div",{className:"border-t border-border/50 px-4 sm:px-8 py-3 bg-surface/30 backdrop-blur-sm shrink-0",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("form",{onSubmit:y,className:"relative group w-full sm:w-[360px]",children:[e.jsx("div",{className:`absolute -inset-1 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 opacity-0 transition-opacity duration-300 ${l?"opacity-30 blur-sm":"group-focus-within:opacity-20"}`}),e.jsxs("div",{className:"relative flex items-center bg-white dark:bg-black/20 border border-border rounded-lg overflow-hidden focus-within:border-accent/50 transition-colors",children:[e.jsx(Z,{size:14,className:"ml-3 text-secondary group-focus-within:text-accent"}),e.jsx("input",{type:"text",value:n,onChange:a=>g(a.target.value),placeholder:"Neural semantic search...",className:"w-full bg-transparent pl-3 pr-3 py-2 text-[16px] sm:text-sm focus:outline-none text-primary placeholder:text-secondary/50"}),l&&e.jsx("div",{className:"w-4 h-4 border-2 border-secondary/30 border-t-accent rounded-full animate-spin mr-2"}),!l&&n&&e.jsx("button",{type:"submit",className:"px-3 hover:text-accent",children:e.jsx(I,{size:14})})]})]})})}),x&&e.jsx("div",{className:"fixed inset-x-0 bottom-0 top-[var(--app-header-offset)] z-40 bg-surface md:inset-y-0 md:right-0 md:left-auto md:top-[var(--app-header-offset)] md:bottom-0 md:w-[min(720px,50vw)]",children:e.jsx(Q,{isVisible:!0,content:x.content||"No preview available.",language:x.type==="md"?"markdown":"text",onClose:()=>c(null)})})]})},X=i=>i.includes("gemini")?"robot":i.includes("deepseek")?"cyber":i.includes("llama")?"voxel":i.includes("mistral")||i.includes("claude")?"orb":"robot",_=i=>i.includes("gemini")?{primary:"#3B82F6",secondary:"#EFF6FF",accent:"#EF4444"}:i.includes("deepseek")?{primary:"#6366F1",secondary:"#111827",accent:"#F43F5E"}:i.includes("llama")?{primary:"#F97316",secondary:"#FFEDD5",accent:"#000000"}:{primary:"#10B981",secondary:"#ECFDF5",accent:"#059669"},ee=({modelId:i,state:b,role:x="default",size:c=48,className:n=""})=>{const g=X(i),t=_(i),d=b==="speaking",l=b==="thinking",s=()=>e.jsxs("svg",{width:c,height:c,viewBox:"0 0 100 100",className:`overflow-visible ${n}`,children:[e.jsx("ellipse",{cx:"50",cy:"90",rx:"30",ry:"5",fill:"black",opacity:"0.1",className:l?"animate-pulse":""}),e.jsxs("g",{className:"animate-float",children:[e.jsxs("g",{className:l?"animate-antenna origin-bottom":"",children:[e.jsx("line",{x1:"50",y1:"20",x2:"50",y2:"5",stroke:t.primary,strokeWidth:"3"}),e.jsx("circle",{cx:"50",cy:"5",r:"4",fill:l?t.accent:t.primary,className:l?"animate-ping":""})]}),e.jsx("rect",{x:"25",y:"20",width:"50",height:"40",rx:"12",fill:"white",stroke:t.primary,strokeWidth:"2.5"}),e.jsx("rect",{x:"32",y:"32",width:"36",height:"18",rx:"4",fill:t.secondary}),e.jsx("g",{className:"origin-center",style:{transformBox:"fill-box"},children:e.jsxs("g",{className:l?"animate-squint":"animate-blink",children:[e.jsx("circle",{cx:"40",cy:"41",r:"3.5",fill:t.primary}),e.jsx("circle",{cx:"60",cy:"41",r:"3.5",fill:t.primary})]})}),d?e.jsx("g",{className:"animate-talk-jaw",children:e.jsx("rect",{x:"42",y:"54",width:"16",height:"3",rx:"1.5",fill:t.primary})}):e.jsx("path",{d:"M 44 55 Q 50 58 56 55",stroke:t.primary,strokeWidth:"2",fill:"none",opacity:"0.6"}),e.jsxs("g",{children:[e.jsx("circle",{cx:"20",cy:"65",r:"7",fill:"white",stroke:t.primary,strokeWidth:"2",className:d?"animate-hand-wave":""}),e.jsx("circle",{cx:"80",cy:"65",r:"7",fill:"white",stroke:t.primary,strokeWidth:"2",className:d?"animate-hand-wave":"",style:{animationDelay:"0.1s"}}),x==="architect"&&e.jsx("rect",{x:"75",y:"55",width:"12",height:"16",fill:"white",stroke:t.primary,strokeWidth:"1",transform:"rotate(-15 80 65)",className:"animate-float"})]})]})]}),p=()=>e.jsxs("svg",{width:c,height:c,viewBox:"0 0 100 100",className:`overflow-visible ${n}`,children:[e.jsx("ellipse",{cx:"50",cy:"90",rx:"20",ry:"4",fill:t.primary,opacity:"0.2",className:"animate-pulse"}),e.jsx("path",{d:"M 25 90 L 25 40 Q 50 10 75 40 L 75 90 Z",fill:t.secondary,stroke:t.primary,strokeWidth:"2",className:l?"animate-glitch":""}),e.jsx("path",{d:"M 35 45 Q 50 35 65 45 L 65 75 Q 50 85 35 75 Z",fill:"#000",opacity:"0.6"}),e.jsxs("g",{children:[e.jsx("circle",{cx:"50",cy:"58",r:"8",fill:"#1F2937"}),e.jsx("circle",{cx:"50",cy:"58",r:"4",fill:l?t.accent:t.primary,className:l?"animate-pulse":""}),l&&e.jsx("rect",{x:"40",y:"50",width:"20",height:"16",fill:"url(#cyber-scan)",className:"animate-scan"})]}),x==="critic"&&e.jsx("path",{d:"M 80 50 L 90 50 L 85 60 Z",fill:t.accent,className:"animate-spin-slow",style:{transformOrigin:"85px 55px"}}),d&&e.jsxs("g",{className:"animate-talk-jaw",children:[e.jsx("line",{x1:"42",y1:"80",x2:"58",y2:"80",stroke:t.primary,strokeWidth:"2"}),e.jsx("line",{x1:"45",y1:"83",x2:"55",y2:"83",stroke:t.primary,strokeWidth:"1"})]}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"cyber-scan",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:t.accent,stopOpacity:"0"}),e.jsx("stop",{offset:"50%",stopColor:t.accent,stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:t.accent,stopOpacity:"0"})]})})]}),u=()=>e.jsx("svg",{width:c,height:c,viewBox:"0 0 100 100",className:`overflow-visible ${n}`,children:e.jsxs("g",{className:d?"animate-bounce":"animate-breathe",children:[e.jsx("rect",{x:"30",y:"15",width:"10",height:"20",fill:t.primary,stroke:"black",strokeWidth:"2",rx:"2"}),e.jsx("rect",{x:"60",y:"15",width:"10",height:"20",fill:t.primary,stroke:"black",strokeWidth:"2",rx:"2"}),e.jsx("rect",{x:"25",y:"30",width:"50",height:"45",fill:t.secondary,stroke:"black",strokeWidth:"2.5",rx:"4"}),e.jsx("rect",{x:"35",y:"55",width:"30",height:"25",fill:"#FDBA74",stroke:"black",strokeWidth:"2",rx:"4"}),e.jsxs("g",{className:l?"animate-squint":"",children:[e.jsx("rect",{x:"35",y:"42",width:"8",height:"8",fill:"black",rx:"1"}),e.jsx("rect",{x:"57",y:"42",width:"8",height:"8",fill:"black",rx:"1"})]}),d?e.jsx("rect",{x:"45",y:"68",width:"10",height:"8",fill:"black",rx:"2",className:"animate-talk-jaw"}):e.jsx("rect",{x:"45",y:"70",width:"10",height:"2",fill:"black",rx:"1"}),l&&e.jsxs("g",{className:"animate-float",children:[e.jsx("rect",{x:"80",y:"25",width:"8",height:"8",fill:t.primary,stroke:"black",strokeWidth:"1",transform:"rotate(15 84 29)"}),e.jsx("rect",{x:"88",y:"15",width:"6",height:"6",fill:t.primary,stroke:"black",strokeWidth:"1",opacity:"0.7",transform:"rotate(30 91 18)"})]}),x==="engineer"&&e.jsx("rect",{x:"35",y:"45",width:"30",height:"2",fill:"black"})]})}),r=()=>e.jsxs("svg",{width:c,height:c,viewBox:"0 0 100 100",className:`overflow-visible ${n}`,children:[e.jsx("circle",{cx:"50",cy:"50",r:"25",fill:t.primary,className:"animate-breathe",opacity:"0.9"}),e.jsx("circle",{cx:"50",cy:"50",r:"15",fill:t.secondary,className:l?"animate-pulse":""}),e.jsx("ellipse",{cx:"50",cy:"50",rx:"35",ry:"10",fill:"none",stroke:t.primary,strokeWidth:"1",className:"animate-spin-slow",opacity:"0.6"}),e.jsx("ellipse",{cx:"50",cy:"50",rx:"35",ry:"10",fill:"none",stroke:t.accent,strokeWidth:"1",className:"animate-spin-slow",opacity:"0.6",transform:"rotate(60 50 50)"}),d&&e.jsx("g",{children:e.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:t.secondary,strokeWidth:"2",className:"animate-ping",opacity:"0.5"})})]});switch(g){case"robot":return e.jsx(s,{});case"cyber":return e.jsx(p,{});case"voxel":return e.jsx(u,{});case"orb":return e.jsx(r,{});default:return e.jsx(s,{})}},C=[{id:"gemini-3-pro",label:"Gemini 3 Pro",archetype:"robot"},{id:"deepseek-r1",label:"DeepSeek R1",archetype:"cyber"},{id:"llama-3",label:"Llama 3.1",archetype:"voxel"},{id:"mistral-large",label:"Mistral Large",archetype:"orb"}],te=[{id:"default",label:"Default"},{id:"architect",label:"Architect"},{id:"engineer",label:"Engineer"},{id:"critic",label:"Critic/Security"}],se=()=>{var l;const[i,b]=o.useState("gemini-3-pro"),[x,c]=o.useState("idle"),[n,g]=o.useState("default"),[t,d]=o.useState(200);return o.useEffect(()=>{const s=typeof window<"u"?window.innerWidth:0;s>0&&s<420?d(160):s>0&&s<640&&d(180)},[]),e.jsxs("div",{className:"w-full h-full bg-background flex flex-col overflow-hidden",children:[e.jsx("div",{className:"min-h-16 border-b border-border/50 flex items-center justify-between px-4 sm:px-8 py-3 bg-surface/30 backdrop-blur-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg text-pink-600",children:e.jsx(D,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-primary tracking-tight",children:"Avatar Studio"}),e.jsx("p",{className:"text-xs text-secondary",children:"Design and preview procedural agent personas"})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxs("div",{className:"flex-1 flex items-center justify-center bg-[#F5F5F7] dark:bg-[#111111] relative overflow-hidden min-h-[320px]",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:"linear-gradient(#999 1px, transparent 1px), linear-gradient(90deg, #999 1px, transparent 1px)",backgroundSize:"40px 40px"}}),e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-white/50 dark:bg-white/5 blur-3xl rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 transition-all duration-500",children:[e.jsx("div",{className:"relative filter drop-shadow-2xl",children:e.jsx(ee,{modelId:i,state:x,role:n,size:t,className:"transition-all duration-300"})}),e.jsxs("div",{className:"bg-white/80 dark:bg-[#1C1C1E]/80 backdrop-blur-md px-4 py-2 rounded-full border border-border/50 shadow-sm flex flex-col items-center",children:[e.jsx("span",{className:"text-sm font-bold text-primary",children:(l=C.find(s=>s.id===i))==null?void 0:l.label}),e.jsxs("span",{className:"text-[10px] text-secondary uppercase tracking-wider",children:[n," • ",x]})]})]})]}),e.jsxs("div",{className:"w-full md:w-80 bg-surface border-t md:border-t-0 md:border-l border-border p-4 sm:p-6 flex flex-col gap-8 overflow-y-auto md:max-h-none max-h-[45vh]",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-secondary uppercase tracking-wider flex items-center gap-2",children:[e.jsx(f,{size:14})," Model Base"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:C.map(s=>e.jsxs("button",{onClick:()=>b(s.id),className:`
                                  flex items-center justify-between px-3 py-2.5 rounded-xl border text-sm font-medium transition-all
                                  ${i===s.id?"bg-white dark:bg-white/10 border-accent text-primary shadow-sm ring-1 ring-accent/20":"bg-transparent border-transparent hover:bg-black/5 text-secondary"}
                              `,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.archetype==="robot"&&e.jsx(re,{}),s.archetype==="cyber"&&e.jsx(L,{size:14}),s.archetype==="voxel"&&e.jsx(q,{size:14}),s.archetype==="orb"&&e.jsx("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-current"}),e.jsx("span",{children:s.label})]}),i===s.id&&e.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"})]},s.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-secondary uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Y,{size:14})," Behavior State"]}),e.jsx("div",{className:"flex bg-black/5 p-1 rounded-lg",children:["idle","thinking","speaking"].map(s=>e.jsx("button",{onClick:()=>c(s),className:`
                                flex-1 py-1.5 text-xs font-medium rounded-md capitalize transition-all
                                ${x===s?"bg-white dark:bg-[#2C2C2E] text-primary shadow-sm":"text-secondary hover:text-primary"}
                            `,children:s},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-secondary uppercase tracking-wider flex items-center gap-2",children:[e.jsx(O,{size:14})," Persona Role"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:te.map(s=>e.jsx("button",{onClick:()=>g(s.id),className:`
                                px-3 py-2 text-xs font-medium rounded-lg border transition-all text-left
                                ${n===s.id?"bg-accent/10 border-accent text-accent":"bg-white dark:bg-white/5 border-border text-secondary hover:border-primary/50"}
                            `,children:s.label},s.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-secondary uppercase tracking-wider flex items-center gap-2",children:[e.jsx(H,{size:14})," Scale"]}),e.jsx("input",{type:"range",min:"100",max:"400",value:t,onChange:s=>d(parseInt(s.target.value)),className:"w-full h-1.5 bg-border rounded-lg appearance-none cursor-pointer accent-accent"})]}),e.jsx("div",{className:"mt-auto pt-6 border-t border-border/50 text-xs text-secondary leading-relaxed",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Pro Tip:"})," Procedural avatars use SVG geometry mapped to model IDs. Animation states are driven by CSS keyframes tied to inference status."]})})]})]})]})},re=()=>e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),e.jsx("circle",{cx:"12",cy:"5",r:"2"}),e.jsx("path",{d:"M12 7v4"}),e.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16"}),e.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16"})]}),ae=()=>{const[i,b]=o.useState([]),[x,c]=o.useState({avgConfidence:0,hitRate:0,totalDecisions:0}),[n,g]=o.useState(null),[t,d]=o.useState("all"),l=o.useRef(null);o.useEffect(()=>k.subscribe(m=>{var v;b([...m]),c(k.getCortexStats());const y=(v=m.find(w=>w.trace))==null?void 0:v.trace;y&&g({id:y.sessionId,cycles:y.cycleCount})}),[]);const s=i.filter(r=>t==="all"||r.type===t),p=r=>{switch(r){case"cortex":return"text-purple-400";case"tool":return"text-blue-400";case"error":return"text-red-400";case"network":return"text-yellow-400";default:return"text-gray-400"}},u=r=>{const m=new Date(r);return`${m.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}.${m.getMilliseconds().toString().padStart(3,"0")}`};return e.jsxs("div",{className:"w-full h-full bg-[#09090b] text-[#e4e4e7] flex flex-col font-mono overflow-hidden",children:[e.jsxs("div",{className:"min-h-48 border-b border-white/10 p-4 sm:p-6 flex flex-col lg:flex-row gap-4 lg:gap-6 shrink-0 bg-[#09090b]",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-white tracking-tight",children:[e.jsx(E,{className:"text-green-500"})," Neural Link"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Real-time Cortex Telemetry"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>d("all"),className:`px-3 py-1 rounded text-xs border ${t==="all"?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-500 hover:text-white"}`,children:"ALL"}),e.jsx("button",{onClick:()=>d("cortex"),className:`px-3 py-1 rounded text-xs border ${t==="cortex"?"bg-purple-500/10 border-purple-500/20 text-purple-400":"border-transparent text-gray-500 hover:text-purple-400"}`,children:"CORTEX"}),e.jsx("button",{onClick:()=>d("tool"),className:`px-3 py-1 rounded text-xs border ${t==="tool"?"bg-blue-500/10 border-blue-500/20 text-blue-400":"border-transparent text-gray-500 hover:text-blue-400"}`,children:"TOOLS"}),e.jsx("button",{onClick:()=>d("error"),className:`px-3 py-1 rounded text-xs border ${t==="error"?"bg-red-500/10 border-red-500/20 text-red-400":"border-transparent text-gray-500 hover:text-red-400"}`,children:"ERRORS"})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-[#18181b] rounded-xl p-4 border border-white/5 flex flex-col justify-between border-l-purple-500/50 border-l-2",children:[e.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-purple-400 flex items-center gap-2",children:[e.jsx(L,{size:12})," Neural Session"]}),e.jsx("div",{className:"text-xl font-bold text-white truncate",children:(n==null?void 0:n.id)||"IDLE"}),e.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["Cycle Depth: ",(n==null?void 0:n.cycles)||0]})]}),e.jsxs("div",{className:"bg-[#18181b] rounded-xl p-4 border border-white/5 flex flex-col justify-between",children:[e.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-gray-500 flex items-center gap-2",children:[e.jsx(f,{size:12})," Cortex Decisions"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:x.totalDecisions})]}),e.jsxs("div",{className:"bg-[#18181b] rounded-xl p-4 border border-white/5 flex flex-col justify-between",children:[e.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-gray-500 flex items-center gap-2",children:[e.jsx(U,{size:12})," Mean Confidence"]}),e.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[(x.avgConfidence*100).toFixed(1),"%"]}),e.jsx("div",{className:"w-full bg-white/10 h-1 mt-2 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500",style:{width:`${x.avgConfidence*100}%`}})})]}),e.jsxs("div",{className:"bg-[#18181b] rounded-xl p-4 border border-white/5 flex flex-col justify-between",children:[e.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-gray-500 flex items-center gap-2",children:[e.jsx(A,{size:12})," High Cert. Rate"]}),e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[(x.hitRate*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"bg-[#18181b] rounded-xl p-4 border border-white/5 flex flex-col justify-between relative overflow-hidden",children:[e.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-gray-500 flex items-center gap-2",children:[e.jsx(G,{size:12})," Uptime"]}),e.jsx("div",{className:"text-xl font-bold text-white font-mono",children:"00:14:22"}),e.jsx("div",{className:"absolute right-2 bottom-2 opacity-10",children:e.jsx(z,{size:48})})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-0 relative bg-black/50",ref:l,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-[#09090b] to-transparent pointer-events-none z-10"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-[760px] w-full text-xs font-mono",children:[e.jsx("thead",{className:"bg-[#18181b] sticky top-0 z-20 shadow-sm text-gray-500 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 sm:px-4 w-28",children:"TIMESTAMP"}),e.jsx("th",{className:"hidden sm:table-cell py-2 px-3 sm:px-4 w-28",children:"SOURCE"}),e.jsx("th",{className:"py-2 px-3 sm:px-4 w-20",children:"TYPE"}),e.jsx("th",{className:"hidden lg:table-cell py-2 px-3 sm:px-4 w-16",children:"CYC"}),e.jsx("th",{className:"py-2 px-3 sm:px-4",children:"MESSAGE / PAYLOAD"}),e.jsx("th",{className:"hidden md:table-cell py-2 px-3 sm:px-4 w-24 text-right",children:"LATENCY"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[s.map(r=>{var m;return e.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[e.jsx("td",{className:"py-2 px-3 sm:px-4 text-gray-500 whitespace-nowrap",children:u(r.timestamp)}),e.jsx("td",{className:"hidden sm:table-cell py-2 px-3 sm:px-4 text-gray-300",children:r.source}),e.jsx("td",{className:`py-2 px-3 sm:px-4 font-bold uppercase ${p(r.type)}`,children:r.type}),e.jsx("td",{className:"hidden lg:table-cell py-2 px-3 sm:px-4 text-gray-500",children:((m=r.trace)==null?void 0:m.cycleCount)??"-"}),e.jsx("td",{className:"py-2 px-3 sm:px-4 text-gray-300",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:r.message}),r.metadata&&e.jsxs("details",{className:"mt-1",children:[e.jsx("summary",{className:"text-[10px] text-gray-500 cursor-pointer select-none",children:"metadata"}),e.jsx("pre",{className:"mt-1 text-[10px] text-gray-400 overflow-x-auto max-w-2xl bg-black/30 p-1.5 rounded border border-white/5",children:JSON.stringify(r.metadata,null,2)})]})]})}),e.jsx("td",{className:"hidden md:table-cell py-2 px-3 sm:px-4 text-right text-gray-500",children:r.duration?`${r.duration}ms`:"-"})]},r.id)}),s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-12 text-center text-gray-600 italic",children:"No telemetry data captured yet. Interact with the Builder to generate logs."})})]})]})})]})]})},xe=()=>{const[i,b]=o.useState("knowledge"),x=[{id:"knowledge",label:"Knowledge",icon:M},{id:"avatars",label:"Studio",icon:D},{id:"research",label:"Telemetry",icon:E}];return e.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden bg-background",children:[e.jsx("div",{className:"h-12 border-b border-border/50 flex items-center px-4 bg-surface/30 backdrop-blur-sm shrink-0 gap-1 overflow-x-auto no-scrollbar",children:x.map(c=>{const n=c.icon,g=i===c.id;return e.jsxs("button",{onClick:()=>b(c.id),className:`
                flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all whitespace-nowrap
                ${g?"bg-accent/10 text-accent ring-1 ring-accent/20":"text-secondary hover:text-primary hover:bg-black/5 dark:hover:bg-white/5"}
              `,children:[e.jsx(n,{size:14,strokeWidth:g?2.5:2}),c.label]},c.id)})}),e.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[i==="knowledge"&&e.jsx(J,{}),i==="avatars"&&e.jsx(se,{}),i==="research"&&e.jsx(ae,{})]})]})};export{xe as LibraryPage};
